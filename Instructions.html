<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="Task.css" type="text/css" charset="utf-8">
  <script type="text/javascript" src="jquery-3.2.1.js"></script>
  <script type="text/javascript" src="images.js"></script>
  <script type="text/javascript">

  /*function gup(name, tmpURL)
	{
		var regexS = "[\\?&]"+name+"=([^&#]*)";
		var regex = new RegExp(regexS);
		var results = regex.exec(tmpURL);
		if (results == null)
		{
			return "";
		}
		else
		{
			return results[1];
		}
	}*/

  $(document).ready(function(){

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var i = 0;

    var fileName = ['examplepics/example1.png','examplepics/example2.png','examplepics/example3.png','examplepics/example4.png','examplepics/example5.png']
		var img = new Array(fileName.length);
		var imgCount = 0;

		function loadImage()
		{
			if (imgCount < fileName.length)
			{
				img[imgCount] = new Image();
				img[imgCount].src=fileName[imgCount];
				img[imgCount].onload=loadImage;
				imgCount++;
			}
      runTrial();
		}

    function blockinstruction1(){

      $("#continueButton").show();
      $("#backButton").hide();

      if (i == 0){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="white";
        ctx.textBaseline="middle";
        ctx.textAlign="center";

        ctx.font="bold 18px Arial";
        ctx.fillText("Today you will complete some simple tasks.", (myCanvas.width/2), (myCanvas.height/2)-240);
        ctx.font="14px Arial";
        ctx.fillText("You will complete 3 blocks of trials, taking ~60min in total.", (myCanvas.width/2), (myCanvas.height/2)-200);
        ctx.fillText("__________________________________________________________________________________", (myCanvas.width/2), (myCanvas.height/2)-190);
        ctx.textAlign="left";
        ctx.fillText("In the first section of the experiment today, please read each statement carefully.", 0, (myCanvas.height/2)-150);
        ctx.fillText("After you have read the statement, press the 'N' key to continue on to the next ", (0.0), (myCanvas.height/2)-110);
        ctx.fillText("statement. Please note there is a minimum time of 4 seconds per statement", (0.0), (myCanvas.height/2)-90);
        ctx.fillText("before you can continue, but no maximum time.", (0.0), (myCanvas.height/2)-70);

        ctx.fillText("Please do your best to pay attention for the full duration of the study. If,", (0.0), (myCanvas.height/2)-30);
        ctx.fillText("however, at some points throughout the task you find that you are not paying", (0.0), (myCanvas.height/2)-10);
        ctx.fillText("attention to the task, please know that this is completely normal. Thus,", (0.0), (myCanvas.height/2)+10);
        ctx.fillText("when asked if you were paying attention, please answer honestly. No matter", (0.0), (myCanvas.height/2)+30);
        ctx.fillText("how you respond, you will still be paid in full and still be eligible for", (0.0), (myCanvas.height/2)+50);
        ctx.fillText("any future studies from our lab.", (0.0), (myCanvas.height/2)+70);

        ctx.textAlign="center";
        ctx.fillText("More instructions will be given before each section.", (myCanvas.width/2), (myCanvas.height/2)+110);
        ctx.textAlign="center";
        ctx.fillText("Press the button below for more details on the task.", (myCanvas.width)/2, (myCanvas.height/2)+130);
      }
      else if (i == 1){
        $("#backButton").show();

        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="15px Arial";
        ctx.fillStyle="white";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("In the first section:", 0, (myCanvas.height/2)-240);

        ctx.fillText("Trivia statements will appear on the screen in regular intervals.", 0, (myCanvas.height/2)-200);
        ctx.fillText("Please read each statement carefully, and do your best to pay", 0, (myCanvas.height/2)-180);
        ctx.fillText("attention for the full duration of the study.", 0, (myCanvas.height/2)-160);

        ctx.fillText("Some of the statements you see will be true, and some of the", 0, (myCanvas.height/2)-120);
        ctx.fillText("statements you see will be false.", 0, (myCanvas.height/2)-100);

        ctx.fillText("For example, you might see the following statement:", 0, (myCanvas.height/2)-60);
        ctx.textAlign="center";
        ctx.fillText("The capital of the Netherlands is Copenhagen.", myCanvas.width/2, (myCanvas.height/2)-30);
        ctx.textAlign="left";
        ctx.fillText("Read the statement and press 'N' to continue on to the next statement.", 0, (myCanvas.height/2)+10);

        ctx.textAlign="center";
        ctx.fillText("Use the buttons below to see the next instructions or go back", myCanvas.width/2, (myCanvas.height/2)+100);
        ctx.fillText("to the previous instructions.", myCanvas.width/2, (myCanvas.height/2)+120);

      }
    else if (i == 2){
      $("#startButton").hide();
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="15px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="left";

      ctx.fillText("While you are completing this task, you may find yourself thinking about", 0, (myCanvas.height/2)-200);
      ctx.fillText("things other than the task. These thoughts are referred to as", 0, (myCanvas.height/2)-180);
      ctx.fillText("“task-unrelated thoughts.” Having task-unrelated thoughts is perfectly", 0, (myCanvas.height/2)-160);
      ctx.fillText("normal, especially when one has to do the same thing for a long period ", 0, (myCanvas.height/2)-140);
      ctx.fillText("of time.", 0, (myCanvas.height/2)-120);

      ctx.fillText("While you are completing this task, we would like to determine how", 0, (myCanvas.height/2)-80);
      ctx.fillText("frequently you are focused on some aspect of the task and how frequently", 0, (myCanvas.height/2)-60);
      ctx.fillText("you are thinking about thoughts that are unrelated to the task. To do this,", 0, (myCanvas.height/2)-40);
      ctx.fillText("every once in a while, the task will temporarily stop and you will be  ", 0, (myCanvas.height/2)-20);
      ctx.fillText("presented a thought-sampling screen that will ask you to indicate whether,", 0, (myCanvas.height/2)-0);
      ctx.fillText("just before seeing the thought-sampling screen, you were focused on the", 0, (myCanvas.height/2)+20);
      ctx.fillText("task or focused on task-unrelated thoughts.", 0, (myCanvas.height/2)+40);

      ctx.textAlign="center";
      ctx.fillText("Use the buttons below to see the next instructions or go back", (myCanvas.width/2), (myCanvas.height/2)+100);
      ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+120);
    }
    else if (i == 3){
      $("#startButton").hide();
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="15px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="left";

      ctx.fillText("Being focused on the task means that, just before the thought-sampling ", 0, (myCanvas.height/2)-200);
      ctx.fillText("screen appeared, you were focused on some aspect of the task at hand. ", 0, (myCanvas.height/2)-180);

      ctx.fillText("On the other hand, experiencing task-unrelated thoughts means that you ", 0, (myCanvas.height/2)-140);
      ctx.fillText("were thinking about something completely unrelated to the task. Some ", 0, (myCanvas.height/2)-120);
      ctx.fillText("examples of task-unrelated thoughts include thoughts about what to eat ", 0, (myCanvas.height/2)-100);
      ctx.fillText("for dinner, thoughts about an upcoming event, or thoughts about   ", 0, (myCanvas.height/2)-80);
      ctx.fillText("something that happened to you earlier in the day. Any thoughts that you ", 0, (myCanvas.height/2)-60);
      ctx.fillText("have that are not related to the task you are completing count as task", 0, (myCanvas.height/2)-40);
      ctx.fillText("-unrelated.", 0, (myCanvas.height/2)-20);

      ctx.textAlign="center";
      ctx.fillText("Use the buttons below to see the next instructions or go back", (myCanvas.width/2), (myCanvas.height/2)+50);
      ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+70);
    }
    else if (i == 4){
      $("#startButton").hide();
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="15px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="left";

      ctx.fillText("Importantly, task-unrelated thoughts can occur in cases where you are ", 0, (myCanvas.height/2)-240);
      ctx.fillText("trying to focus on the task, but your thoughts unintentionally drift to task-", 0, (myCanvas.height/2)-220);
      ctx.fillText("unrelated topics, OR they can occur in cases where you are not trying to", 0, (myCanvas.height/2)-200);
      ctx.fillText("focus on the task, and you begin to think about task-unrelated topics. ", 0, (myCanvas.height/2)-180);
      ctx.fillText("When the thought-sampling screen is presented, we will ask you to ", 0, (myCanvas.height/2)-160);
      ctx.fillText("indicate which (if any) of these two types of task-unrelated thoughts you ", 0, (myCanvas.height/2)-140);
      ctx.fillText("were experiencing. ", 0, (myCanvas.height/2)-120);

      ctx.fillText("To do this, we will present you with a thought-sampling screen that", 0, (myCanvas.height/2)-90);
      ctx.fillText("looks like this:", 0, (myCanvas.height/2)-70);

      ctx.font="16px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="center";

      ctx.fillText("__________________________________________", (myCanvas.width/2), (myCanvas.height/2)-60);


      ctx.fillText("Just prior to the onset of this screen, I was:", (myCanvas.width/2), (myCanvas.height/2)-40);
      ctx.fillText("(5) Focused on the task.", (myCanvas.width/2), (myCanvas.height/2));
      ctx.fillText("(6) Not focused on the task, but I WAS trying to focus on it.", (myCanvas.width/2), (myCanvas.height/2)+20);
      ctx.fillText("(7) Not focused on the task, and I WASN'T trying to focus on it.", (myCanvas.width/2), (myCanvas.height/2)+40);

      ctx.fillText("Please press the corresponding number to indiciate your choice.", (myCanvas.width/2), (myCanvas.height/2)+90);
      ctx.fillText("__________________________________________", (myCanvas.width/2), (myCanvas.height/2)+100);

      ctx.fillText("Use the buttons below to see the next instructions or go back", (myCanvas.width/2), (myCanvas.height/2)+150);
      ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+170);
    }
    else if (i == 5){
      $("#startButton").hide();
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="15px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="center";

      ctx.fillText("This is the end of the instructions. Please use the buttons below to go back ", (myCanvas.width/2), (myCanvas.height/2));
      ctx.fillText("to review the instructions if you have any questions, or to continue on to", (myCanvas.width/2), (myCanvas.height/2)+20);
      ctx.fillText("the practice task.", (myCanvas.width/2), (myCanvas.height/2)+40);

    }
    }

    function runTrial(){
      if (i < 6){
        blockinstruction1();
      }
      else {
        opener.updateMainMenu(3);
        JavaScript:window.close();
      }
    }

loadImage();


$("#continueButton").click(function(){i++; runTrial();});
$("#backButton").click(function(){i--; runTrial();});
          });

          </script>
        </head>
        <body>
          <table>
            <tr>
              <td>
                <canvas id="myCanvas" width="500" height="500"> </canvas>
                <div style="text-align:center; align:center;">
                </div>
                <div style="text-align:center;">
                  <button id="backButton">Go Back</button>
                  <button id="continueButton">Continue</button>
                </div>
                    <input type="hidden" id="assignmentId" name="assignmentId" value="">
                    <input type="hidden" id="workerId" name="workerId" value="">
                    <input type="hidden" id="hitId" name="hitId" value="">
                    <input type="hidden" id="RTs" name="RTs" value="">
                    <input type="hidden" id="ExpName" name="ExpName" value="truthmindwandering3">
                    <p style="font-family: Arial; color: white; font-size:24px"></p>
                  </td>
                </tr>
              </table>
            </body>
            </html>
